language: ruby
rvm:
  - 2.1
  - 2.2
  - 2.3
  - 2.4
  - 2.5 # 2.6 is tested below
bundler_args: --without development
script:
  - bundle exec rake test
matrix:
  include:
    - rvm: 2.6
      bundler_args: --with development
      script:
        - bundle exec rake test
        - bundle exec rubocop
      env:
        - CODE_COVERAGE=true
branches:
  only:
    - master # Always run on the master branch
notifications:
  email: false
